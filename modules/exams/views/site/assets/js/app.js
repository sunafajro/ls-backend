(function(t){function e(e){for(var n,a,o=e[0],c=e[1],u=e[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},s={app:0},i=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},"56d7":function(t,e,r){"use strict";r.r(e);r("8e6e"),r("ac6a"),r("456d");var n=r("bd86"),s=(r("cadf"),r("551c"),r("f751"),r("097d"),r("2b0e")),i=r("2f62"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t.micAccess?t._e():r("div",{staticClass:"alert alert-danger"},[t._v("\n    Нет доступа к микрофону на вашем устройстве!\n  ")]),r("div",{staticClass:"container-fluid",attrs:{id:"app"}},[r("div",{staticClass:"row header-title"},[r("div",{staticClass:"col-12 text-center"},[r("h3",[t._v("Пробные тесты "+t._s(t.headerName)+" по английскому языку")])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-10 offset-1"},[r("router-view")],1)])]),t.loggedIn?r("div",{staticClass:"bottom-panel"},[r("div",{staticClass:"alert alert-info"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6 text-left"},t._l(t.audioUrls,(function(e){return r("a",{key:"recording-"+e.id,staticClass:"btn btn-sm btn-info",staticStyle:{"margin-right":"0.5rem"},attrs:{href:e.url,download:e.filename}},[t._v("\n            Запись "+t._s(e.id)+"\n          ")])})),0),r("div",{staticClass:"col-6 text-right"},[t._v("\n          "+t._s(" ")+"\n          "),r("b",[t._v(t._s(t.userCode))]),t._v("\n          "+t._s(" ")+"\n          "),r("span",{staticClass:"logout-link",on:{click:t.goToExamsList}},[t._v("(Выйти)")])])])])]):t._e()])},o=[],c=(r("96cf"),r("3b8d"));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p={computed:l({},Object(i["c"])(["audioUrls","examType","loggedIn","micAccess","userCode"]),{headerName:function(){return"oge"===this.examType?"ОГЭ":"ege"===this.examType?"ЕГЭ":"ОГЭ/ЕГЭ"}}),created:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getTests();case 2:this.micAccess||this.checkMicrofone();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:l({},Object(i["b"])(["checkMicrofone","getTests","logout","showNotification"]),{goToExamsList:function(){this.$store.commit("updateAudioUrls",[]),this.logout()}})},d=p,f=(r("034f"),r("2877")),m=Object(f["a"])(d,a,o,!1,null,null,null),h=m.exports,b=r("8c4f"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[t.running?r("div",{staticClass:"col-12"},[r("div",{class:"alert alert-"+t.alertClass},[r("div",{staticClass:"row align-items-center"},[r("div",{staticClass:"col-4 text-left"},[t._v("\n          "+t._s(t.timerInfo)+"\n        ")]),r("div",{staticClass:"col-4 text-center"},[2!==t.currTaskNum?r("span",[t._v("\n            "+t._s(t._f("timeFormat")(t.time))+"\n          ")]):t._e(),2===t.currTaskNum&&2!==t.currSubTaskNum?r("span",[t._v("\n            "+t._s(t._f("timeFormat")(t.time))+"\n          ")]):t._e()]),r("div",{staticClass:"col-4 text-right"},[0!==this.currSubTaskNum?r("button",{class:"btn btn-sm btn-"+t.alertClass,on:{click:t.stop}},[t._v("\n            закончить досрочно\n          ")]):t._e()])])])]):t._e(),0!==t.currSubTaskNum?r("div",{staticClass:"col-12"},[r("e-content-component",{attrs:{exam:t.$route.params.id,currSubTaskNum:t.currSubTaskNum,task:t.currentTask}})],1):t._e(),t.isFinished?r("div",{staticClass:"col-12"},[t._m(0),r("p",[t._v("\n      Незабудьте скачать записи ваших ответов по ссылкам в нижней панели.\n    ")]),r("button",{staticClass:"btn btn-success",on:{click:t.goToExamsList}},[t._v("\n      Вернуться к списку экзаменов\n    ")])]):t._e()])},v=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[r("b",[t._v("Экзамен завершен!")])])}],y=r("75fc"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",{staticClass:"task-description"},[r("b",[t._v("Task "+t._s(t.task.id)+". "+t._s(t.task.title))])]),Array.isArray(t.filteredImages)&&t.filteredImages.length?r("div",{staticStyle:{display:"flex"}},t._l(t.filteredImages,(function(e,n){return r("div",{key:"image-"+n},[r("b",{staticStyle:{"vertical-align":"top"}},[t._v("\n        "+t._s(t.selectedImage?t.selectedImageId:n+1)+"\n      ")]),r("img",{staticClass:"task-image img-thumbnail",staticStyle:{height:"210px"},attrs:{src:t.examFilesUrl+"/"+e},on:{click:function(r){return t.selectImage(e)}}})])})),0):t._e(),r("p",[t._v("\n    "+t._s(t.task.audio?"":t.task.description)+"\n  ")]),!this.task.audio&&this.task.sequentialQuestions&&null!==this.selectedQuestion?r("div",{staticStyle:{"margin-bottom":"0.5rem"}},[r("div",{staticClass:"btn btn-sm btn-success",staticStyle:{"margin-right":"0.5rem",width:"50px"}},[t._v("\n      "+t._s(t._f("timeFormat")(t.time))+"\n    ")]),r("button",{staticClass:"btn btn-sm btn-success",on:{click:t.stop}},[t._v("\n      следующий ответ\n    ")])]):t._e(),t.task.audio||!t.filteredQuestions.length||t.taskEnded?t._e():r("ul",t._l(t.filteredQuestions,(function(e,n){return r("li",{key:"question-"+n},[t._v("\n      "+t._s(e)+"\n    ")])})),0),t.task.note?r("p",[r("i",[t._v(t._s(t.task.note))])]):t._e()])},w=[],k=(r("c5f6"),function(t){return new Promise((function(e){var r=new MediaRecorder(t),n=[];r.addEventListener("dataavailable",(function(t){n.push(t.data)}));var s=function(){r.start()},i=function(){return new Promise((function(t){r.addEventListener("stop",(function(){var e=new Blob(n,{type:"audio/webm"}),r=URL.createObjectURL(e);t({audioUrl:r})})),r.stop()}))};e({start:s,stop:i})}))}),j=function(t){var e=t%60,r=t/60>0?Math.floor(t/60):0;return(r>9?r:"0"+r)+":"+(e>9?e:"0"+e)};function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var T={created:function(){this.task.audio&&2===this.task.id&&(this.currentAudio&&this.currentAudio.pause(),this.currentAudio=new Audio("".concat(this.examFilesUrl,"/").concat(this.task.description)),this.currentAudio.play())},destroyed:function(){this.task.audio&&2===this.task.id&&this.currentAudio&&this.currentAudio.pause()},computed:x({},Object(i["c"])(["examFilesUrl","examType"]),{filteredImages:function(){var t=this;return this.task.selectableImages&&this.selectedImage?this.task.images.filter((function(e){return e===t.selectedImage})):this.task.images},filteredQuestions:function(){return this.task.sequentialQuestions&&null!==this.selectedQuestion?this.task.questions.slice(this.selectedQuestion,this.selectedQuestion+1):this.task.questions},selectedImageId:function(){var t=this,e=null;return this.task.selectableImages&&this.selectedImage&&this.selectedImage&&this.task.images.forEach((function(r,n){r===t.selectedImage&&(e=n+1)})),e}}),data:function(){return{currentAudio:null,selectedQuestion:null,selectedImage:null,taskEnded:!1,time:0,timer:null}},filters:{timeFormat:function(t){return j(t)}},methods:{selectImage:function(t){this.task.selectableImages&&(this.selectedImage=t)},start:function(t){var e=this;t&&(this.time=t),this.timer||(this.timer=setInterval((function(){e.time>0?e.time--:e.stop()}),1e3))},stop:function(){clearInterval(this.timer),this.time=0,this.timer=null,this.selectedQuestion<this.task.questions.length-1?(this.selectedQuestion+=1,this.start(this.task.questionsInterval)):(this.selectedQuestion=null,this.taskEnded=!0)}},props:{exam:{required:!0,type:String},currSubTaskNum:{required:!0,type:Number},task:{required:!0,type:Object}},watch:{currSubTaskNum:function(t){this.task.sequentialQuestions&&2===t?(this.selectedQuestion=0,this.start(this.task.questionsInterval)):!this.task.sequentialQuestions&&2===t&&this.task.audio&&(this.currentAudio&&this.currentAudio.pause(),this.currentAudio=new Audio("".concat(this.examFilesUrl,"/").concat(this.task.questions[0])),this.currentAudio.play())}}},C=T,P=(r("7ff8"),Object(f["a"])(C,O,w,!1,null,null,null)),S=P.exports;function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var A={components:{"e-content-component":S},computed:E({},Object(i["c"])(["audioUrls","tests","examType","stream","userCode"]),{alertClass:function(){return 0===this.currSubTaskNum?"info":1===this.currSubTaskNum?"warning":"success"},timerInfo:function(){return 0===this.currSubTaskNum?"Приготовьтесь!":1===this.currSubTaskNum?"Время на подготовку":"Идет запись"},iterations:function(){var t=this.selectedTest.tasks.length;return 2*t+t-1},currentInterval:function(){if(!this.currentTask)return null;switch(this.currSubTaskNum){case 1:return this.currentTask.prepareTime;case 2:return this.currentTask.recordTime;default:return 5}},currentTask:function(){var t=this;return Array.isArray(this.selectedTest.tasks)?this.selectedTest.tasks.reduce((function(e,r){return r.id===t.currTaskNum&&(e=r),e}),{}):{}},currTaskNum:function(){return Math.ceil(this.step/3)},currSubTaskNum:function(){return this.step%3},isFinished:function(){return this.step===3*this.selectedTest.tasks.length},selectedTest:function(){var t=this,e=this.tests.filter((function(e){return e.type===t.examType&&String(e.num)===String(t.$route.params.id)}));return Array.isArray(e)&&e.length?e[0]:{}}}),created:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.start(this.selectedTest.waitTime);case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),data:function(){return{recorder:null,running:!1,time:0,timer:null,step:0}},filters:{timeFormat:function(t){return j(t)}},methods:E({},Object(i["b"])(["logout"]),{start:function(t){var e=this;t&&(this.time=t),this.running=!0,this.timer||(this.timer=setInterval((function(){e.time>0?e.time--:e.stop()}),1e3))},stop:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(clearInterval(this.timer),this.time=0,this.running=!1,this.timer=null,this.step+=1,0!==this.currSubTaskNum){t.next=10;break}this.recorder&&this.recorder.stop().then((function(t){var r=t.audioUrl,n=e.currTaskNum,s=Object(y["a"])(e.audioUrls);s.push({id:n,filename:e.examType+". Задание "+n+". "+e.userCode+".wav",url:r}),e.$store.commit("updateAudioUrls",s),e.recorder=null})),this.isFinished||this.start(this.selectedTest.waitTime),t.next=16;break;case 10:if(2!==this.currSubTaskNum||!this.stream){t.next=15;break}return t.next=13,k(this.stream);case 13:this.recorder=t.sent,this.recorder.start();case 15:this.currentInterval&&this.start(this.currentInterval);case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goToExamsList:function(){this.$store.commit("updateAudioUrls",[]),this.logout()}})},N=A,D=Object(f["a"])(N,g,v,!1,null,null,null),U=D.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col-4"},t._l(t.selectedTests,(function(e){return r("router-link",{key:e.num,staticClass:"btn btn-info ml-1 mb-1",attrs:{to:"/exam/"+e.num}},[t._v("\n      Вариант "+t._s(e.num)+"\n    ")])})),1)])},R=[];function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function q(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var M={computed:q({},Object(i["c"])(["examType","tests"]),{selectedTests:function(){var t=this;return this.tests.filter((function(e){return e.type===t.examType}))}})},F=M,L=Object(f["a"])(F,$,R,!1,null,null,null),B=L.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 text-center"},[r("router-link",{staticClass:"btn btn-success",attrs:{to:"/exams"}},[t._v("\n        Все понятно\n      ")])],1)]),r("div",{staticClass:"row",staticStyle:{"margin-top":"2rem"}},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[t._v('\n          Для проверки микрофона и качества записи воспользуйтесь кнопками\n          "Начать запись" и "ПРослушать запись".\n          '),r("div",{staticClass:"text-center",staticStyle:{"margin-top":"0.5rem"}},[r("button",{class:t.recordButtonClass,staticStyle:{"margin-right":"0.5rem"},on:{click:t.getRecord}},[t._v("\n              "+t._s(t.recording?"Остановить запись":"Начать запись")+"\n            ")]),r("button",{staticClass:"btn btn-sm  btn-warning",attrs:{disabled:!(!t.recording&&t.audio)},on:{click:t.playAudio}},[t._v("\n              Прослушать запись\n            ")])])])])])])])},z=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row",staticStyle:{"margin-bottom":"1rem"}},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card"},[r("div",{staticClass:"card-body"},[t._v("\n          Сейчас вы будете выполнять устную часть ГИА-11. Ваши ответы\n          записываются. На экране вы видите время на подготовку (желтый\n          таймер). При выполнении задания вы также имеет ограничение по\n          времени (зеленый таймер).\n        ")])])])])}];function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var K={computed:H({},Object(i["c"])(["stream"]),{recordButtonClass:function(){return"btn btn-sm "+(this.recording?"btn-danger":"btn-primary")}}),data:function(){return{audio:null,recorder:null,recording:!1}},methods:{getRecord:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.stream){t.next=15;break}if(!this.recording){t.next=10;break}return this.recording=!1,t.next=5,this.recorder.stop();case 5:e=t.sent,r=e.audioUrl,this.audio=new Audio(r),t.next=15;break;case 10:return this.recording=!0,t.next=13,k(this.stream);case 13:this.recorder=t.sent,this.recorder.start();case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),playAudio:function(){this.audio&&this.audio.play()}}},V=K,W=Object(f["a"])(V,J,z,!1,null,null,null),X=W.exports,Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.userCode,expression:"userCode"}],staticClass:"form-control",attrs:{placeholder:"Ваш шифр...",type:"text"},domProps:{value:t.userCode},on:{input:function(e){e.target.composing||(t.userCode=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.examType,expression:"examType"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.examType=e.target.multiple?r:r[0]}}},[r("option",{domProps:{value:null}},[t._v("-- тип экзамена --")]),r("option",{attrs:{value:"oge"}},[t._v("ОГЭ")]),r("option",{attrs:{value:"ege"}},[t._v("ЕГЭ")])])]),t._m(0)])},Z=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group text-center"},[r("input",{staticClass:"btn btn-primary",attrs:{type:"submit"}})])}];function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var rt={computed:{examType:{get:function(){return this.$store.state.examType},set:function(t){this.$store.commit("updateUserState",{examType:t})}},userCode:{get:function(){return this.$store.state.userCode},set:function(t){this.$store.commit("updateUserState",{userCode:t})}}},methods:et({},Object(i["b"])(["login"]))},nt=rt,st=Object(f["a"])(nt,Y,Z,!1,null,null,null),it=st.exports;s["a"].use(b["a"]);var at=new b["a"]({routes:[{path:"/exam/:id",name:"exam",component:U},{path:"/exams",name:"exams",component:B},{path:"/instructions",name:"instructions",component:X},{path:"/login",name:"login",component:it}]}),ot=r("bc3a"),ct=r.n(ot),ut=r("7329"),lt=r.n(ut);s["a"].use(i["a"]);var pt=document.getElementById("app"),dt=JSON.parse(pt.dataset.urls),ft=new i["a"].Store({state:{audioUrls:[],examFilesUrl:dt.files?dt.files:"",examType:null,loggedIn:!1,micAccess:null,step:0,stream:null,tests:[],userCode:""},getters:{getStep:function(t){return function(e){var r=e.path,n=e.direction,s=t.steps.indexOf(r);return"next"===n?t.steps[s+1]?t.steps[s+1]:null:"previous"===n&&t.steps[s-1]?t.steps[s-1]:null}}},mutations:{updateTests:function(t,e){t.tests=e.filter((function(t){return t.enabled}))},updateAudioUrls:function(t,e){t.audioUrls=e},updateMicState:function(t,e){t.micAccess=e.status,t.stream=e.stream},updateUserState:function(t,e){e.hasOwnProperty("loggedIn")&&(t.loggedIn=e.loggedIn),e.hasOwnProperty("examType")&&(t.examType=e.examType),e.hasOwnProperty("userCode")&&(t.userCode=e.userCode)}},actions:{getTests:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var r,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.dispatch,t.prev=1,t.next=4,ct.a.get(dt.exams);case 4:s=t.sent,i=s.data,r("updateTests",i),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),n("showNotification",{text:"Ошибка загрузки тестов! "+(t.t0&&t.t0.message?t.t0.message:""),type:"error"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}(),checkMicrofone:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.dispatch,t.prev=1,t.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:s=t.sent,n("showNotification",{text:"Микрофон доступен!",type:"success"}),r("updateMicState",{status:!0,stream:s}),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),r("updateMicState",{status:!1,stream:null}),n("showNotification",{text:"Нет доступа к микрофону!",type:"error"});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));function e(e){return t.apply(this,arguments)}return e}(),login:function(t){var e=t.commit,r=t.dispatch,n=t.state;n.userCode&&n.examType?e("updateUserState",{loggedIn:!0}):r("showNotification",{text:"Необходимо указать ваш шифр и тип экзамена!",type:"error"})},logout:function(t){var e=t.commit;e("updateUserState",{examType:null,loggedIn:!1,userCode:""})},showNotification:function(t,e){new lt.a({theme:"bootstrap-v4",text:e.text,timeout:2e3,type:e.type}).show()}}});r("f9e3"),r("e625"),r("e2e4");function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(r,!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}s["a"].config.productionTip=!1,new s["a"]({computed:ht({},Object(i["c"])(["loggedIn"])),created:function(){this.loggedIn||"/login"===this.$route.path||this.$router.push("/login")},router:at,store:ft,render:function(t){return t(h)},watch:{loggedIn:function(t){t||"/login"===this.$route.path||this.$router.push("/login"),t&&"/login"===this.$route.path&&this.$router.push("/instructions")}}}).$mount("#app")},"64a9":function(t,e,r){},"7ff8":function(t,e,r){"use strict";var n=r("d258"),s=r.n(n);s.a},d258:function(t,e,r){}});
//# sourceMappingURL=app.efb431e9.js.map